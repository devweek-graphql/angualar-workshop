<form class="character-data" [formGroup]="characterDetailsForm" (ngSubmit)="onSaveForm()">

  <!-- Avatar -->
  <div id="" class="character-data-avatar">
    <div class="img-container circle">
      <img class="avatar-image" src="{{getAvatar()}}" alt="avatar"
        style="transition: opacity 0.3s ease 0s; opacity: 1; visibility: visible;">
    </div>
  </div>

  <mat-card class="character-data-card basic-data mat-elevation-z8">
    <section class="basic-data-section">
      <mat-card-title class="card-title basic-data-first-appeareance-title">Basic Data</mat-card-title>
      <app-input value={{character?.name}} placeholder="Name" controlName="characterName">
      </app-input>
      <app-select [values]="universes" value={{character?.universe}} controlName="characterUniverse"></app-select>
      <app-select [values]="characterTypes" value={{character?.type}} controlName="characterType"></app-select>
    </section>

    <fieldset class="character-data-card basic-data-first-appeareance">
      <legend class="card-title basic-data-first-appeareance-title">First Apeareance</legend>
      <app-input value={{character?.firstAppearance?.comicName}} placeholder="Comic Name"
        controlName="characterFirstAppeareanceComic">}>
      </app-input>
      <app-input value={{character?.firstAppearance?.year}} placeholder="Year"
        controlName="characterFirstAppeareanceYear"></app-input>
    </fieldset>
  </mat-card>

  <!-- Part of -->
  <mat-card class="character-data-card character-data-part-of mat-elevation-z8">
    <mat-card-title class="card-title part-of-title">Part of</mat-card-title>
    <table mat-table [dataSource]="characterTeams" class="character-data-teams-table">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Team's Name </th>
        <td mat-cell *matCellDef="let element">
          <app-input placeholder="Team Name" value={{element.name}} controlName="characterTeamName">
          </app-input>
        </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Team's Description </th>
        <td mat-cell *matCellDef="let element">
          <app-input placeholder="Team Description" value={{element.description}}
            controlName="characterTeamDescription">
          </app-input>
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumnsTeams"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsTeams;"></tr>
    </table>

    <div class="add-row add-row-part-of">
      <button [hidden]="!isEditable" class="add-row-button" mat-button (click)="onAddRow($event)">Add new team</button>
    </div>
  </mat-card>

  <!--Abilities -->
  <mat-card class="character-data-card character-data-abilities mat-elevation-z8">
    <mat-card-title class="card-title">Abilities</mat-card-title>
    <table mat-table [dataSource]="dataSourceAbilities" class="character-data-abilities-table">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Ability </th>
        <td mat-cell *matCellDef="let element">
          <app-input value={{element.name}} placeholder="Ability Name" controlName="characterAbilityName">
          </app-input>
        </td>
      </ng-container>

      <ng-container matColumnDef="description">
        <th mat-header-cell *matHeaderCellDef> Description </th>
        <td mat-cell *matCellDef="let element">
          <app-input value={{element.description}} placeholder="Description" controlName="characterAbilityDescription">
          </app-input>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsForAbilities"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsForAbilities;"></tr>
    </table>

    <div class="add-row add-row-abilities">
      <button [hidden]="!isEditable" class="add-row-button" mat-button (click)="onAddRow($event)">Add new
        ability</button>
    </div>
  </mat-card>

  <!-- allies -->
  <mat-card class="character-data-card character-data-friends mat-elevation-z8">
    <mat-card-title class="card-title">Allies</mat-card-title>
    <table mat-table [dataSource]="characterFriends" class="character-data-friends-table">
      <ng-container matColumnDef="name">
        <th mat-header-cell *matHeaderCellDef> Allied </th>
        <td mat-cell *matCellDef="let element">
          <app-input class="character-data-friends-list-item" value={{element.name}} placeholder="Ability Name"
            controlName="characterAlliedName">
          </app-input>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumnsForFriends"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumnsForFriends;"></tr>
    </table>

    <div class="add-row add-row-friends">
      <button [hidden]="!isEditable" class="add-row-button" mat-button (click)="onAddRow($event)">Add new
        friend</button>
    </div>
  </mat-card>

  <div class="submit">
    <!-- <button [hidden]="!isEditable" [disabled]="!characterDetailsForm.valid" class="submit-button" -->
    <button [hidden]="!isEditable" class="submit-button" mat-button>Save</button>
  </div>
</form>
